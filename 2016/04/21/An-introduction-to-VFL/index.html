<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="This is a blog record technical things."><title>初识Auto Layout的VFL | TNK</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">初识Auto Layout的VFL</h1><a id="logo" href="/.">TNK</a><p class="description">Ruter's blog</p></div><div id="nav-menu"><a href="/"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/MyWiki/"><i class="fa fa-book"> Wiki</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">初识Auto Layout的VFL</h1><div class="post-meta">Apr 21, 2016<span> | </span><span class="category"><a href="/categories/iOS/">iOS</a></span></div><a data-disqus-identifier="2016/04/21/An-introduction-to-VFL/" href="/2016/04/21/An-introduction-to-VFL/#disqus_thread" class="disqus-comment-count"></a><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#简介"><span class="toc-number">1.</span> <span class="toc-text">简介</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#基础"><span class="toc-number">2.</span> <span class="toc-text">基础</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#进阶"><span class="toc-number">3.</span> <span class="toc-text">进阶</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#小结"><span class="toc-number">4.</span> <span class="toc-text">小结</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#参考"><span class="toc-number">5.</span> <span class="toc-text">参考</span></a></li></ol></div></div><div class="post-content"><p>最近在学习<code>Swift</code>的过程中涉及到了自动布局方面的内容，在之前用<code>Objective-C</code>的时候也涉及过这方面的内容，不过基本都是在<code>storyboard</code>里拖线做约束，有时候遇到要修改多个约束的情况，简直就是噩梦！好在苹果自家有个<code>VFL</code>(Visual Format Language)可以比在SB里直接拖线设置约束方便修改一些(数量多的时候)，不过说实话，VFL其实也没有特别好到哪儿去;)</p>
<p>这里就通过设置4个<code>UILabel</code>的约束来进行演示，以了解VFL的一些概念以及使用方法。</p>
<h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><p><code>VFL</code>全称<code>Visual Format Language</code>，是一种用于定义视图自动布局约束(<code>Auto Layout constraints</code>)的说明性语言。</p>
<p>Auto Layout的约束有很多属性，例如垂直布局、间隔、大小等等，这些都可以通过VFL来实现。它以一个字符串作为参数传递给<code>NSLayoutConstraint</code>这个类的方法<code>constraintsWithVisualFormat:options:metrics:views:</code>以及<code>constraintWithItem:attribute:relatedBy:toItem:attribute:multiplier:constant:</code>。</p>
<p>在需要使用纯代码构建UI的项目里，VFL就可以作为一种替代storyboard的选择了 :)</p>
<h1 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h1><p>先创建一个<code>Single View Application</code>项目，然后创建3个<code>UILabel</code>并设置它们的颜色以及文本内容:<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">override func viewDidLoad() &#123;</div><div class="line">    super.viewDidLoad()</div><div class="line"></div><div class="line">    <span class="keyword">let</span> <span class="attr">label1</span> = UILabel()</div><div class="line">    label1.<span class="attr">translatesAutoresizingMaskIntoConstraints</span> = <span class="literal">false</span></div><div class="line">    label1.<span class="attr">backgroundColor</span> = UIColor.greenColor()</div><div class="line">    label1.<span class="attr">text</span> = <span class="string">"HELLO"</span></div><div class="line"></div><div class="line">    <span class="keyword">let</span> <span class="attr">label2</span> = UILabel()</div><div class="line">    label2.<span class="attr">translatesAutoresizingMaskIntoConstraints</span> = <span class="literal">false</span></div><div class="line">    label2.<span class="attr">backgroundColor</span> = UIColor.cyanColor()</div><div class="line">    label2.<span class="attr">text</span> = <span class="string">"AUTO LAYOUT"</span></div><div class="line"></div><div class="line">    <span class="keyword">let</span> <span class="attr">label3</span> = UILabel()</div><div class="line">    label3.<span class="attr">translatesAutoresizingMaskIntoConstraints</span> = <span class="literal">false</span></div><div class="line">    label3.<span class="attr">backgroundColor</span> = UIColor.orangeColor()</div><div class="line">    label3.<span class="attr">text</span> = <span class="string">"VFL"</span></div><div class="line"></div><div class="line">    view.addSubview(label1)</div><div class="line">    view.addSubview(label2)</div><div class="line">    view.addSubview(label3)</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>这里我们将<code>translatesAutoresizingMaskIntoConstraints</code>设置成<code>false</code>是因为我们要手动设置Label的约束而不希望系统自动产生约束。</p>
<p>这时候可以试试把app跑起来看下。Oops! 所有的label都重叠在一起了，我们只能看到，这是因为我们还没有设置任何约束，这些label被放在了默认的位置（屏幕的左上角），大小则因它们的内容而定。<br><img src="/images/VFL/P1.png" alt="叠在一起的label们"></p>
<p>OK! 是时候请出我们今天的主角<code>VFL</code>来给这3个label设置约束了，我们先来点简单的，让每个label都从父视图的左边开始到右边结束。</p>
<p>在那之前，我们需要先创建一个label的<code>字典</code>(<code>Dictionary</code>)，这个我们之后会用到:<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> <span class="attr">viewsDictionary</span> = [<span class="string">"label1"</span>: label1, <span class="string">"label2"</span>: label2, <span class="string">"label3"</span>: label3]</div></pre></td></tr></table></figure></p>
<p>把它放在<code>viewDidLoad()</code>的底部，然后接着把下面的代码添加到它的后面:<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> label in viewsDictionary.<span class="built_in">keys</span> &#123;</div><div class="line">    <span class="keyword">view</span>.addConstraints(NSLayoutConstraint.constraintsWithVisualFormat(<span class="string">"H:|[\(label)]|"</span>, option<span class="variable">s:</span> [], metric<span class="variable">s:</span> nil, <span class="keyword">view</span><span class="variable">s:</span> viewsDictionary))</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>来看看这段代码里都有些什么。首先是<code>view.addConstraints()</code>，这个方法会往当前视图添加一组约束；然后是前面已经提到过的<code>NSLayoutConstraint.constraintsWithVisualFormat()</code>方法，用来将VFL转换成一组约束，其中第一个和最后一个参数是最重要的，而options和metrics这里暂时不讨论。</p>
<p>再来看看这段代码的灵魂所在：<code>H:|[\(label)]|</code>，这里的<code>\(label)</code>会被替换成<code>viewDictionary</code>里的<code>Key</code>。开头的<code>H:</code>表示定义一个水平布局(Horizontal layout)；而管道符号<code>|</code>则表示视图的边缘；最后看到<code>[label1]</code>，表示把<code>label1</code>放在这个位置，我们可以把中括号看成是这个label1视图的边。</p>
<p>现在我们可以很清楚地描述<code>H:|[label1]|</code>所表达的意思：我想要把这个<code>label1</code>放在视图里，并且让它的左右边缘紧贴视图的左右边缘(即与视图同宽)。那么问题来了，这个label1是从哪里蹦出来的？这里就轮到我们前面提到的最后一个参数views了。</p>
<p>我们定义了一个<code>viewsDictionary</code>以键值对的形式存放了三个<code>UILabel</code>，然后作为最后一个参数传递给我们的方法。所以这个<code>label1</code>会作为key在我们提供的字典里寻找对应的值(这里指<code>UILabel</code>)产生自动布局的约束。</p>
<p>如果现在运行程序，我们应该会看到label们边对边贴着主视图了，但是我们只看到了橙色的写着”VFL”的label，其他的叠在一起被挡住了！不要忘了，我们只设置了水平方向的约束，还有垂直方向的没有设置嗷~<br><img src="/images/VFL/P2.png" alt="只能看到橙色label"></p>
<p>我们只需要一行代码就可以把垂直方向的约束搞定:<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">view</span>.addConstraints(NSLayoutConstraint.constraintsWithVisualFormat(<span class="string">"V:|[label1]-[label2]-[label3]"</span>, option<span class="variable">s:</span> [], metric<span class="variable">s:</span> nil, <span class="keyword">view</span><span class="variable">s:</span> viewsDictionary))</div></pre></td></tr></table></figure></p>
<p>这里和前面那段代码，除了VFL部分外其他全都一样，我们这里用了<code>V:</code>，表示要进行垂直方向的约束。这里还多了个新东西，一个减号<code>-</code>，表示这个符号所在的位置要有间隙，默认值为10 <code>point</code>s。</p>
<p>机智的你肯定留意到了我们的label3后面没有跟着管道符<code>|</code>，这就表示label3的底边不需要贴着主视图的底边，所以底部会留下一大片空白。</p>
<p>还在等什么，让程序跑起来！之后我们就会看到与主视图同宽，三个label以相同的间隔隔开。Awesome! 到这里我们已经对VFL有了初步的认识了，跟在storyboard里拖线设置约束相比，是不是好了那么一丢丢呢~<br><img src="/images/VFL/P3.png" alt="设置了垂直约束后"></p>
<h1 id="进阶"><a href="#进阶" class="headerlink" title="进阶"></a>进阶</h1><p>嗯哼，就这么简单就结束了吗？当然不是啦！我们只做了很基础的一些东西，看下运行后的label，高度看起来是不是很不顺眼呢。还有就是我们没有对底边做约束，如果最后一个label很高，那它超出主视图的部分就会被遮盖掉，这并不是我们想要看到的，所以我们需要进行一些改动，为每一个label都设置一个高度，并且对最后一个label的底边进行约束。</p>
<p>要完成这些非常简单，把下面这行代码替换掉前面写的垂直约束那行:<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">view</span>.addConstraints(NSLayoutConstraint.constraintsWithVisualFormat(<span class="string">"V:|[label1(==88)]-[label2(==88)]-[label3(==88)]-(&gt;=10)-|"</span>, option<span class="variable">s:</span> [], metric<span class="variable">s:</span> nil, <span class="keyword">view</span><span class="variable">s:</span> viewsDictionary))</div></pre></td></tr></table></figure></p>
<p>在这里我们添加了两个新东西，一个是在label里面的<code>(==88)</code>，还有一个是在label到底边之间的<code>-(&gt;=10)-</code>。前者指定了对应label的高度，<code>==</code>表示等于，这里我们指定了每个label的高度等于88 points；后者表示最后一个label到视图底边之间的空隙应该大于等于10 points。<br><img src="/images/VFL/P4.png" alt="为label设置了高度"></p>
<p>到这里你肯定发现了，关于数值的约束，我们一般会用<code>()</code>包裹起来。运行起来看看吧，感觉似乎好多了。等等，要是老板说88 points太高了，要你改成80 points，于是你一个个把<code>(==88)</code>改成了<code>(==80)</code>，可是设计师不乐意了，说80 points太傻逼了坚决不可以用这个高度，于是你又要着手把它改掉，一来二去特别蛋疼啊有木有！要是再多几个不同的view多很多约束怎么改得过来啊！</p>
<p>好的好的，不用抓狂先，还记得我们<code>constraintsWithVisualFormat()</code>这个方法里的第三个参数metrics吗，我们之前一直都是传了个<code>nil</code>给它，现在我们可以把它改掉了，是的，我们要用它减轻我们修改约束数据的工作量。首先要做的就是创建一个字典:<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> <span class="attr">metrics</span> = [<span class="string">"labelHeight"</span>: <span class="number">88</span>]</div></pre></td></tr></table></figure></p>
<p>然后把它传递给参数metrics，再对<code>==88</code>进行一点点的修改，变成上面创建的字典的键<code>labelHeight</code>，修改后是这样的:<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">view</span>.addConstraints(NSLayoutConstraint.constraintsWithVisualFormat(<span class="string">"V:|[label1(labelHeight)]-[label2(labelHeight)]-[label3(labelHeight)]-(&gt;=10)-|"</span>, option<span class="variable">s:</span> [], metric<span class="variable">s:</span> metrics, <span class="keyword">view</span><span class="variable">s:</span> viewsDictionary))</div></pre></td></tr></table></figure></p>
<p>就是这么简单，当遇到需要修改约束数值的时候，只需要修改字典里对应的值就可以一次解决啦XD再次运行一下，结果和之前是不是一样呢，看起来我们的约束可以正常工作，可是如果我们把模拟器设置成横屏模式的话，是不是也还能继续正常工作呢？很好，看起来也能完美地实现自动布局。<br><img src="/images/VFL/P5.png" alt="横屏时的布局"></p>
<p>那接下来我们试着添加多一个label吧，添加下面的代码到<code>viewDidLoad()</code>里:<br><figure class="highlight nix"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> <span class="attr">label4</span> = UILabel()</div><div class="line">label4.<span class="attr">translatesAutoresizingMaskIntoConstraints</span> = <span class="literal">false</span></div><div class="line">label4.<span class="attr">backgroundColor</span> = UIColor.orangeColor()</div><div class="line">label4.<span class="attr">text</span> = <span class="string">"NEW LABEL"</span></div><div class="line"></div><div class="line">view.addSubview(label4)</div></pre></td></tr></table></figure></p>
<p>并且把新的label添加到<code>viewsDictionary</code>里，以及修改垂直方向的约束:<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> viewsDictionary = [<span class="string">"label1"</span>: label1, <span class="string">"label2"</span>: label2, <span class="string">"label3"</span>: label3, <span class="string">"label4"</span>: label4]</div><div class="line"></div><div class="line"><span class="keyword">view</span>.addConstraints(NSLayoutConstraint.constraintsWithVisualFormat(<span class="string">"V:|[label1(labelHeight)]-[label2(labelHeight)]-[label3(labelHeight)]-[label4(labelHeight)]-(&gt;=10)-|"</span>, option<span class="variable">s:</span> [], metric<span class="variable">s:</span> metrics, <span class="keyword">view</span><span class="variable">s:</span> viewsDictionary))</div></pre></td></tr></table></figure></p>
<p>现在运行看看，在竖屏的时候一切看起来都很平静很美好对不对，试试旋转屏幕变成横屏看看吧，我们会发现橙色的label被红色的那个给遮住了很大一部分，并且<code>Xcode</code>会有一大串的信息打印出来，在最开始会看到这样一句”Unable to simultaneously satisfy constraints.”简单理解就是我们把屏幕横向之后，不够位置放置4个label，那要怎么办才好啊？莫慌，抱紧我，噢不，抱紧<code>priority</code>(优先级)。<br><img src="/images/VFL/P7.png" alt="4个label时横屏显示"></p>
<p><code>priority</code>是VFL里一个很重要的概念，它的取值在1到1000之间，其中1000(默认值)表示最高优先级，不管怎么样都必须满足它，而其他级别的优先级都是可选的。</p>
<p>在动手写代码解决问题之前，我们需要先了解优先级的工作方式。当我们没有指定优先级，它会默认使用1000，所以当我们横屏显示的时候没有足够空间满足label的约束，自动布局就会找不到解决方法，我们设置的约束就会失效。如果我们设置label的高度为可选的优先级，例如设置成999，当空间不足的情况下，自动布局就会找办法来尽量满足我们设置的约束：压缩label的高度以适应当前的约束。</p>
<p>在我们这个例子中，设置了每一个的label为88 points，如果我们将每个label的高度的优先级设置为可选的(1000以下的任意数)，当我们横屏显示的时候，自动布局就会想方设法去满足我们的约束，可能是把每个label的高都压缩成78或者别的更小的值，它会尽可能将label的高设置为最接近的88的值。</p>
<p>所以我们需要把label高度的优先级修改为999，并且还要额外修改一个地方，让每个label都与<code>label1</code>同高。这是为了避免自动布局为了满足其他label的高能达到88而把其中一个label的高压缩到很小很小。VFL部分的代码修改成下面这样:<br><figure class="highlight inform7"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">"V:|<span class="subst">[label1(labelHeight@999)]</span>-<span class="subst">[label2(label1)]</span>-<span class="subst">[label3(label1)]</span>-<span class="subst">[label4(label1)]</span>-(&gt;=10)-|"</span></div></pre></td></tr></table></figure></p>
<p>我们把<code>@999</code>加到label1的<code>labelHeight</code>后面，表示对它的高度约束设置优先级999，然后让所有label的高都跟随label1变化。</p>
<p>到这里为止，我们的设置已经完成了！快运行一下看看效果如何，是不是很棒！现在不管是竖屏还是横屏，都能很好地展示我们的label啦~来，给自己一点掌声(啪啪啪啪啪啪啪啪啪):)<br><img src="/images/VFL/P6.png" alt="设置优先级后"></p>
<h1 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h1><p>使用storyboard进行布局，可以很方便直观地看到各个约束以及效果，并且会有提示帮助我们修复一些约束的冲突。如你所见，我们使用代码来设置约束同样显得很简单，在团队协作开发的时候，使用代码进行界面的布局约束显得尤为重要。这里无意比较二者孰优孰劣，将这两种方法根据不同场景混合使用，反而能更大地发挥各自的优势。</p>
<p>这篇博客只是简单粗暴地用了个简单粗暴的例子来对VFL的使用进行了一些讲解，还有很多没有涉及到的方面希望大家可以通过苹果官方的文档进行学习，以及对于本文出现的错误，恳请大家指正:)</p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="https://developer.apple.com/library/ios/documentation/UserExperience/Conceptual/AutolayoutPG/VisualFormatLanguage.html" target="_blank" rel="external">iOS Developer Library - Auto Layout Guide</a></p>
<hr>
<p><img src="https://i.creativecommons.org/l/by-nc-nd/3.0/cn/88x31.png" alt="知识共享许可协议"></p>
<p><strong>声明：</strong>本站的所有文章，都采用<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/cn/" target="_blank" rel="external">知识共享署名-非商业性使用-禁止演绎 3.0 中国大陆许可协议</a>进行许可。</p>
<p><strong>注意：</strong>若未作说明，则本文为「<a href="http://blog.ruterly.com/"><strong>TNK</strong></a>」原创。转载务必注明<a href="http://blog.ruterly.com/2016/04/21/An-introduction-to-VFL/">出处</a>。</p>
<p>本文永久地址：<a href="http://blog.ruterly.com/2016/04/21/An-introduction-to-VFL/">http://blog.ruterly.com/2016/04/21/An-introduction-to-VFL/</a></p>
</div><div class="tags"><a href="/tags/iOS/">iOS</a><a href="/tags/Swift/">Swift</a><a href="/tags/VFL/">VFL</a><a href="/tags/Auto-Layout/">Auto Layout</a></div><div class="post-nav"><a href="/2016/09/06/How-to-Use-Syncthing/" class="pre">「玩物志」Syncthing的安装与使用</a><a href="/2016/01/24/Setting-Ubuntu-backlight/" class="next">笔记本安装Ubuntu后背光亮度的调节</a></div><div id="disqus_thread"><div class="btn_click_load"><button class="disqus_click_btn">阅读评论 「请确保 disqus.com 可以正常加载」</button></div><script>var disqus_shortname = 'ruter-tnk';
var disqus_identifier = '2016/04/21/An-introduction-to-VFL/';
var disqus_title = '初识Auto Layout的VFL';
var disqus_url = 'http://blog.ruterly.com/2016/04/21/An-introduction-to-VFL/';
$('.btn_click_load').click(function() {
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
  $('.btn_click_load').css('display','none');
});
$.ajax({
  url: 'https://disqus.com/next/config.json',
  timeout: 3000,
  type: 'GET',
  success: (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    $('.btn_click_load').css('display','none');
  })(),
  error: function() {
    $('.btn_click_load').css('display','block');
  }
});</script><script id="dsq-count-scr" src="//ruter-tnk.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://blog.ruterly.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Odoo/">Odoo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Server/">Server</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Translation/">Translation</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tutorial/">Tutorial</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Tutorial/Server/">Server</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Shadowrocket/" style="font-size: 15px;">Shadowrocket</a> <a href="/tags/Odoo/" style="font-size: 15px;">Odoo</a> <a href="/tags/Swift/" style="font-size: 15px;">Swift</a> <a href="/tags/VFL/" style="font-size: 15px;">VFL</a> <a href="/tags/Auto-Layout/" style="font-size: 15px;">Auto Layout</a> <a href="/tags/Server/" style="font-size: 15px;">Server</a> <a href="/tags/Nginx/" style="font-size: 15px;">Nginx</a> <a href="/tags/uWSGI/" style="font-size: 15px;">uWSGI</a> <a href="/tags/WeApp/" style="font-size: 15px;">WeApp</a> <a href="/tags/Wechat/" style="font-size: 15px;">Wechat</a> <a href="/tags/ir-sequence/" style="font-size: 15px;">ir.sequence</a> <a href="/tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="/tags/Shadowsocks/" style="font-size: 15px;">Shadowsocks</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/GitHub-Pages/" style="font-size: 15px;">GitHub Pages</a> <a href="/tags/Blog/" style="font-size: 15px;">Blog</a> <a href="/tags/Syncthing/" style="font-size: 15px;">Syncthing</a> <a href="/tags/Cloud/" style="font-size: 15px;">Cloud</a> <a href="/tags/API/" style="font-size: 15px;">API</a> <a href="/tags/Translation/" style="font-size: 15px;">Translation</a> <a href="/tags/Android/" style="font-size: 15px;">Android</a> <a href="/tags/PC/" style="font-size: 15px;">PC</a> <a href="/tags/Web/" style="font-size: 15px;">Web</a> <a href="/tags/Ubuntu/" style="font-size: 15px;">Ubuntu</a> <a href="/tags/Markdown/" style="font-size: 15px;">Markdown</a> <a href="/tags/Typora/" style="font-size: 15px;">Typora</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/12/08/Generate-Unique-Sequence-NO-in-Odoo/">在 Odoo 中生成唯一不重复的序列号</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/28/Catching-unique-constraint-violation-error-in-Odoo-controllers/">在 Odoo 控制器中捕获数据唯一性约束错误</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/20/Replace-Odoo-navbar-menu/">接替Odoo导航栏菜单实现自定义</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/02/Pixabay-API-Translation/">「API 翻译与应用」- Pixabay</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/10/Typora/">「玩物志」精美而强大的Markdown编辑器 - Typora</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/14/Create-a-WeApp/">微信小程序开发尝鲜</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/07/How-to-use-Shadowrocket/">「玩物志」Shadowrocket的使用及配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/06/How-to-Use-Syncthing/">「玩物志」Syncthing的安装与使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/21/An-introduction-to-VFL/">初识Auto Layout的VFL</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/01/24/Setting-Ubuntu-backlight/">笔记本安装Ubuntu后背光亮度的调节</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> 最近评论</i></div><script type="text/javascript" src="//ruter-tnk.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.sunnyrx.com/" title="SunnyRx's Blog" target="_blank">SunnyRx's Blog</a><ul></ul><a href="http://talesofwing.github.io/" title="Zero's Blog" target="_blank">Zero's Blog</a><ul></ul><a href="http://elfgzp.cn" title="Gzp's Blog" target="_blank">Gzp's Blog</a><ul></ul><a href="http://www.jianshu.com/users/148cab15306f/latest_articles" title="妖孽的简书" target="_blank">妖孽的简书</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">TNK.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>